{"version":3,"sources":["webpack:///./src/components/RatingStars.jsx","webpack:///./src/components/ScreenshotThumb.jsx","webpack:///./src/pages/AppDetails.jsx"],"names":["Rating","rating","icon","n","Math","floor","ceil","className","map","key","f7","ScreenshotThumb","src","onClick","alt","useState","loaded","setLoaded","style","opacity","transitionDuration","onLoad","AppDetails","date","id","backText","app","apps","games","find","parseInt","getAppById","pb","useRef","showFullDescription","setShowFullDescription","ratingVotes","5","4","3","2","1","totalVotes","Object","values","reduce","acc","current","onPageInit","photoBrowser","create","photos","screenshots","toolbar","navbarShowCount","onPageBeforeRemove","destroy","transparent","backLink","slot","title","external","target","href","round","fill","subtitle","iconF7","RatingStars","screenshotsThumbs","screenshot","index","open","openPhotoBrowser","dangerouslySetInnerHTML","__html","description","replace","AppstoreBlockTitle","Array","from","length","el","width","versions","version","release_date","Intl","DateTimeFormat","year","month","day","format","Date","release_notes","noHairlines","noChevron","after","developer","name","size","link"],"mappings":"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","file":"js/app-details.8be57b.js","sourcesContent":["import React from 'react';\nimport { Icon } from 'framework7-react';\n\nconst Rating = ({ rating }) => {\n  function icon(n) {\n    if (n <= Math.floor(rating)) return 'star_fill';\n    if (n > Math.ceil(rating)) return 'star';\n    return 'star_lefthalf_fill';\n  }\n  return (\n    <div className=\"rating-stars\">\n      {[1, 2, 3, 4, 5].map((n) => (\n        <Icon key={n} f7={icon(n)} />\n      ))}\n    </div>\n  );\n};\n\nexport default Rating;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\nimport React, { useState } from 'react';\n\nconst ScreenshotThumb = ({ src, onClick, alt }) => {\n  const [loaded, setLoaded] = useState(false);\n\n  return (\n    <img\n      style={{\n        opacity: loaded ? 1 : 0,\n        transitionDuration: '600ms',\n      }}\n      onLoad={() => setLoaded(true)}\n      onClick={onClick}\n      src={src}\n      alt={alt}\n    />\n  );\n};\n\nexport default ScreenshotThumb;\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n/* eslint-disable react/no-danger */\n/* eslint-disable react/jsx-one-expression-per-line */\nimport React, { useState, useRef } from 'react';\nimport {\n  f7,\n  Page,\n  Navbar,\n  Button,\n  Link,\n  Icon,\n  List,\n  ListItem,\n} from 'framework7-react';\n\nimport RatingStars from '../components/RatingStars';\nimport AppstoreBlockTitle from '../components/AppstoreBlockTitle';\nimport ScrenshotThumb from '../components/ScreenshotThumb';\n\nimport { apps, games } from '../js/data';\n\nimport './AppDetails.less';\n\nfunction getAppById(id) {\n  return [...apps, ...games].find((app) => app.id === parseInt(id, 10));\n}\nfunction formatDate(date) {\n  const formatter = new Intl.DateTimeFormat('en', { year: 'numeric', month: 'short', day: 'numeric' });\n  return formatter.format(new Date(date));\n}\n\nconst AppDetails = ({ id, backText }) => {\n  const app = getAppById(id);\n  const pb = useRef(null);\n  const [showFullDescription, setShowFullDescription] = useState(false);\n  const ratingVotes = {\n    5: 500,\n    4: 100,\n    3: 80,\n    2: 50,\n    1: 200,\n  };\n\n  const totalVotes = Object.values(ratingVotes).reduce((acc, current) => acc + current);\n\n  function pageInit() {\n    pb.current = f7.photoBrowser.create({\n      photos: [...app.screenshots],\n      toolbar: false,\n      navbarShowCount: false,\n    });\n  }\n  function pageDestroy() {\n    if (pb.current) pb.current.destroy();\n  }\n  function openPhotoBrowser(index) {\n    if (!pb.current) return;\n    pb.current.open(index);\n  }\n\n  function createAppDescription() {\n    return {\n      __html: (app.description || '').replace(/\\n/g, '<br>'),\n    };\n  }\n\n  return (\n    <Page onPageInit={pageInit} onPageBeforeRemove={pageDestroy}>\n      <Navbar\n        transparent\n        backLink={backText || 'Back'}\n        className=\"app-navbar\"\n      >\n        <div className=\"app-navbar-icon\" slot=\"title\">\n          <img src={app.icon} alt={app.title} />\n        </div>\n        <div className=\"app-navbar-button\" slot=\"right\">\n          <Button external target=\"_blank\" href={`https://apps.apple.com/app/id${app.id}`} round fill>GET</Button>\n        </div>\n      </Navbar>\n      <div className=\"block app-header\">\n        <img src={app.icon} alt={app.title} className=\"app-header-icon\" />\n        <div className=\"app-header-content\">\n          <div className=\"app-header-title\">{app.title}</div>\n          <div className=\"app-header-subtitle\">{app.subtitle}</div>\n          <div className=\"app-header-actions\">\n            <Button external target=\"_blank\" href={`https://apps.apple.com/app/id${app.id}`} round fill>GET</Button>\n            <Link iconF7=\"square_arrow_up\" />\n          </div>\n          <div className=\"app-header-ratings\">\n            <div className=\"app-header-rating\">\n              <div className=\"app-header-rating-value\">{app.rating}</div>\n              <RatingStars rating={app.rating} />\n              <div className=\"app-header-rating-sub\">930 Ratings</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"block app-screenshots\">\n        {app.screenshotsThumbs.map((screenshot, index) => (\n          <ScrenshotThumb\n            onClick={() => openPhotoBrowser(index)}\n            src={screenshot}\n            key={index}\n            alt=\"Screenshot\"\n          />\n        ))}\n      </div>\n      <div className={`block app-description ${showFullDescription ? 'app-description-full' : ''}`}>\n        <div className=\"app-description-content\">\n          <div className=\"app-description-text\" dangerouslySetInnerHTML={createAppDescription()} />\n          <Link onClick={() => setShowFullDescription(true)}>more</Link>\n        </div>\n      </div>\n      <AppstoreBlockTitle title=\"Ratings & Reviews\">\n        <Link>See All</Link>\n      </AppstoreBlockTitle>\n      <div className=\"block app-ratings\">\n        <div className=\"app-ratings-number\">\n          <b>{app.rating}</b>\n          <span>out of 5</span>\n        </div>\n        <div className=\"app-ratings-votes\">\n          {[5, 4, 3, 2, 1].map((rating) => (\n            <div className=\"app-ratings-votes-row\" key={rating}>\n              <div className=\"app-ratings-votes-stars\">\n                {Array.from({ length: rating }).map((el, index) => (\n                  <Icon key={index} f7=\"star_fill\" />\n                ))}\n              </div>\n              <div className=\"app-ratings-votes-progress\">\n                <span style={{ width: `${(ratingVotes[rating] / totalVotes) * 100}%` }} />\n              </div>\n            </div>\n          ))}\n          <div className=\"app-ratings-votes-total\">{totalVotes} Ratings</div>\n        </div>\n      </div>\n      {/* Random reviews */}\n      <div className=\"block app-reviews\">\n        <div className=\"app-review\">\n          <div className=\"app-review-header\">\n            <span><b>John</b></span>\n            <span>2d ago</span>\n          </div>\n          <div className=\"app-review-header\">\n            <RatingStars rating={5} />\n            <span>johndoe</span>\n          </div>\n          <div className=\"app-review-text\">\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Ratione laborum debitis natus cum quae est rerum cupiditate cumque delectus eaque ipsa, accusamus facilis deleniti consequuntur, aliquam soluta minima, eos exercitationem.\n          </div>\n        </div>\n        <div className=\"app-review\">\n          <div className=\"app-review-header\">\n            <span><b>Mike</b></span>\n            <span>3d ago</span>\n          </div>\n          <div className=\"app-review-header\">\n            <RatingStars rating={3} />\n            <span>johndoe</span>\n          </div>\n          <div className=\"app-review-text\">\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat pariatur laudantium, laborum sunt adipisci magni in doloremque neque error earum fugiat! Nihil molestias rem tenetur laboriosam illo similique nobis adipisci?\n          </div>\n        </div>\n        <div className=\"app-review\">\n          <div className=\"app-review-header\">\n            <span><b>Vladimir</b></span>\n            <span>3d ago</span>\n          </div>\n          <div className=\"app-review-header\">\n            <RatingStars rating={2} />\n            <span>johndoe</span>\n          </div>\n          <div className=\"app-review-text\">\n            Lorem ipsum dolor, sit amet consectetur adipisicing elit. At, repudiandae minima? Reprehenderit ab placeat delectus necessitatibus suscipit cumque laborum modi, eaque, a consequuntur, pariatur et itaque. Vitae odio necessitatibus amet.\n          </div>\n        </div>\n        <div className=\"app-review\">\n          <div className=\"app-review-header\">\n            <span><b>Karoly</b></span>\n            <span>4d ago</span>\n          </div>\n          <div className=\"app-review-header\">\n            <RatingStars rating={4} />\n            <span>johndoe</span>\n          </div>\n          <div className=\"app-review-text\">\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, ab ex! Architecto alias delectus, optio eos nostrum obcaecati repellat distinctio, ab, quam dolores voluptatem ex inventore facere expedita exercitationem repudiandae?\n          </div>\n        </div>\n        <div className=\"app-review\">\n          <div className=\"app-review-header\">\n            <span><b>Peter</b></span>\n            <span>4d ago</span>\n          </div>\n          <div className=\"app-review-header\">\n            <RatingStars rating={5} />\n            <span>johndoe</span>\n          </div>\n          <div className=\"app-review-text\">\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia illo odit exercitationem eligendi maiores rerum quo, quos ullam quam! Quia facilis consequatur vitae cupiditate molestias maiores odit magnam quo itaque.\n          </div>\n        </div>\n        <div className=\"app-review\">\n          <div className=\"app-review-header\">\n            <span><b>Alim</b></span>\n            <span>5d ago</span>\n          </div>\n          <div className=\"app-review-header\">\n            <RatingStars rating={1} />\n            <span>johndoe</span>\n          </div>\n          <div className=\"app-review-text\">\n            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Cumque ipsa accusantium qui praesentium, obcaecati quae illum, tempora molestias similique nihil sunt in tempore ipsam laborum illo maxime amet quos consectetur!\n          </div>\n        </div>\n      </div>\n      {app.versions && app.versions.length > 0 && (\n        <>\n          <AppstoreBlockTitle title=\"What's New\" />\n          <div className=\"block\">\n            <p className=\"display-flex justify-content-space-between\" style={{ opacity: 0.55 }}>\n              <span>Version {app.versions[app.versions.length - 1].version}</span>\n              <span>{formatDate(app.versions[app.versions.length - 1].release_date)}</span>\n            </p>\n            <p>{app.versions[app.versions.length - 1].release_notes || ''}</p>\n          </div>\n        </>\n      )}\n      <AppstoreBlockTitle title=\"Information\" />\n      <List noHairlines noChevron className=\"safe-areas-inset app-information-list\">\n        <ListItem title=\"Provider\" after={app.developer.name} />\n        <ListItem title=\"Size\" after={`${Math.floor(app.size / 1000000)} MB`} />\n        <ListItem title=\"Compatibility\" after=\"Works on this iPhone\" />\n        <ListItem title=\"Languages\" after=\"English\" />\n        <ListItem title=\"Age Rating\" after=\"12+\" />\n        <ListItem title=\"In-App Purchases\" after=\"Yes\" />\n        <ListItem title=\"Copyright\" after={`Â© ${app.developer.name}`} />\n        <ListItem link={`https://apps.apple.com/developer/id${app.developer.id}`} external target=\"_blank\" title=\"Developer Website\">\n          <Icon slot=\"after\" f7=\"compass\" />\n        </ListItem>\n        <ListItem link={`https://apps.apple.com/developer/id${app.developer.id}`} external target=\"_blank\" title=\"Privacy Policy\">\n          <Icon slot=\"after\" f7=\"hand_raised_fill\" />\n        </ListItem>\n      </List>\n    </Page>\n  );\n};\n\nexport default AppDetails;\n"],"sourceRoot":""}